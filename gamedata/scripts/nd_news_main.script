--[[----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
File: nd_news_main.script.
Author: OGSE Team.
Version: 1.0.
Description: Новости.
Info: Использовались некоторые наработки AMK (тексты, некоторые функции). Отдельное спасибо DEXXX-у.
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]]--

local post_message_prob = 1 -- простые сообщения,сообщения о выбросе.
local post_message_prob2 = 1 --продажа айтема
local post_message_dolg = 1 --Сообщения от долговцев
local post_message_freedom = 1 --Сообщения от свободовцев
local post_message_random = 1


-- Вспомогательные функции для новостей
local m_post_message = ""
local messages_none ={
"Чё за хрень?",
-- "Количество выбросов неумолимо растёт!",
"Может, это был суицид...",
"Давно такой хрени не видел...",
"Не поверите, что за тварь я сейчас встретил!",
"Слышали новость? Кто-то опять хочет к Выжигателю пробиться...",
"Кому винтовку хорошую надо - стучите в личку!",
"Детектор не работает. Вообще, аномалии и всякие радиактивные зоны не находит, пищать-то пищит, но чтобы их высветить - нет, не может. К Бармену потопал, в общем, спрошу в чём дело.",
"Блин, воронья то разлеталось. Новая аномалия какая-то, наверно. Стерегитесь.",
"На Холмах излома видел. Жуть! Будьте осторожны.",
"Блин, на зомби две обоймы извел, ну и живучие твари!",
"Ну, сейчас доберемся до схрона, и отдохнуть можно будет. Так... Кто это у нас здесь? Ааааа, чёрт..."
}


local dolg_news={
"\\n%c[255,245,118,54]\"Долг\"\\n%c[255,245,118,54]Сталкер! Вступай в ряды Долга! Очистим мир от заразы Зоны!", 
}

local freedom_news={
"\\n%c[255,245,118,54]\"Свобода\"\\n%c[255,245,118,54]Да здравствует \"Свобода\"! Сделаем мир при помощи Зоны лучше!",
}

noname_teamletes = {
	"\\n%c[255,245,118,54]Неизвестный сталкер\\n%c[default]Всем приём! Братва, на блокпост не суйтесь... Какие-то придурки напали на патруль! В общем, вот чё, там сейчас горячо! Наверняка опять карательный рейд будет.",
	"\\n%c[255,245,118,54]Неизвестный сталкер\\n%c[255,245,118,54]Недавно на блокпосте взяли курьера Бармена с товаром. В общем, лакомый кусочек – ящик с артефактами, где-то у командира лежит. Так что, если кому жить надоело – можете рискнуть.",
	"\\n%c[255,245,118,54]Неизвестный сталкер\\n%c[255,245,118,54]Всем внимание! На север от моста на заставе, метрах в 100 за брошенным БТР-ом наткнулся на скопление «Электр». Кому инфа пригодится – с того пиво.",
	"\\n%c[255,245,118,54]Неизвестный сталкер\\n%c[255,245,118,54]Наблюдаем волну мутантов, идет из северного ущелья.",
	"\\n%c[255,245,118,54]Неизвестный сталкер\\n%c[255,245,118,54]Наблюдаем волну мутантов, идет с востока, предположительно - из Тёмной долины.",
	"\\n%c[255,245,118,54]Неизвестный сталкер\\n%c[255,245,118,54]Всем прием! На заводе опять бандюки обосновались. Хабар у сталкеров отбирают. Кто там поблизости из «опытных» - пугните тварей. За мной не заржавеет.",
	"\\n%c[255,245,118,54]Неизвестный сталкер\\n%c[255,245,118,54]Видел группу каких-то левых мужиков, предположительно Свобода, идут в сторону Бара.",
	"\\n%c[255,245,118,54]Неизвестный сталкер\\n%c[255,245,118,54]Группа из пяти человек движется в сторону Холмов, предположительно, это военные. Примите меры!",
	"\\n%c[255,245,118,54]Неизвестный сталкер\\n%c[255,245,118,54]К востоку от моста на заставе видел стаю собак в 20-30 штыков. Так что, делайте выводы, господа.",
	"\\n%c[255,245,118,54]Неизвестный сталкер\\n%c[255,245,118,54]Мародёры зажали, выручайте!",
	"\\n%c[255,245,118,54]Неизвестный сталкер\\n%c[255,245,118,54]Слышал переговоры военных, у них планируется какая-то операция на Янтаре.",
	"\\n%c[255,245,118,54]Диггер\\n%c[default]Жаба, тут опять на хутор Долг пришёл. Зачем?",
	"\\n%c[255,245,118,54]Неизвестный сталкер\\n%c[255,245,118,54]В подвалы не суйтесь, там тварей полно! Обходите поверху!",
	"\\n%c[255,245,118,54]Неизвестный сталкер\\n%c[255,245,118,54]Народ! Осторожнее в деревне на складах - там Жгучего Пуха намело на столбы!",
	"\\n%c[255,245,118,54]Неизвестный сталкер\\n%c[255,245,118,54]Подслушал из разговора патрульных, что военные всё что найдут, собирают на третьем этаже в здании института. Есть желающие рискнуть ради наживы - попробуйте пробраться.",
	"\\n%c[255,245,118,54]Неизвестный сталкер\\n%c[255,245,118,54]Стрелок вернулся! Только что от знающих людей услыхал. Из самого центра вернулся! Значит, можно... значит, блин, скоро будем большой прорыв делать к центру, а там и посмотрим, кто кого.",
	"\\n%c[255,245,118,54]Неизвестный бандит \\n%c[255,245,118,54]Кто на Свалку сунется - будем делать досмотр. Г-гы.",
	"\\n%c[255,245,118,54]Неизвестный бандит \\n%c[255,245,118,54]Млять, опять на Свалке зомбаки вылупились...",
	"\\n%c[255,245,118,54]Зашифровано\\n%c[255,245,118,54]Набираю людей для вылазки в катакомбы.",
	"\\n%c[255,245,118,54]Зашифровано\\n%c[255,245,118,54]Нужны два сталкера для вылазки в катакомбы.",
	"\\n%c[255,245,118,54]Зашифровано\\n%c[255,245,118,54]Нужны сталкеры с опытом рейдов вглубь Зоны. Оплата соответствующая. Заинтересованным - стучать в личку, обговорим место встречи.",
	"\\n%c[255,245,118,54]Неизвестный сталкер \\n%c[255,245,118,54]Охотник, отзовись, поговорить надо. Сколько можно повторять? Где ты пропал?",
	"\\n%c[255,245,118,54]Неизвестный сталкер\\n%c[255,245,118,54]Охотник, отзовись, поговорить надо.",
    "\\n%c[255,245,118,54]Профессор\\n%c[255,245,118,54]Личная просьба от меня. Если кто находится рядом с моим убежищем и не стеснён в боеприпасах, пожалуйста, убейте кровососов на Янтаре, они мне жизни не дают!",
    "\\n%c[255,245,118,54]Скрыто \\n%c[255,245,118,54]Говорят, у Профессора новые детекторы есть!",

    "\\n%c[255,245,118,54]Бармен \\n%c[255,245,118,54]Если вы ищете место, где можно перекусить и отдохнуть; место, где можно выпить и поговорить; место, где вам всегда подскажут, как подзаработать - подходите в бар Сталкер. Мы всегда рады новым посетителям!",
    "\\n%c[255,245,118,54]Системное сообщение: 408 \\n%c[255,245,118,54]Идёт обновление новостной службы...",
    "\\n%c[255,245,118,54]Бармен \\n%c[255,245,118,54]Если вы ищете место, где можно перекусить и отдохнуть; место, где можно выпить и поговорить; место, где вам всегда подскажут, как подзаработать - подходите в бар Сталкер. Мы всегда рады новым посетителям!",
    "\\n%c[255,245,118,54]Бармен \\n%c[255,245,118,54]Если вы ищете место, где можно перекусить и отдохнуть; место, где можно выпить и поговорить; место, где вам всегда подскажут, как подзаработать - подходите в бар Сталкер. Мы всегда рады новым посетителям!",
    "\\n%c[255,245,118,54]Бармен \\n%c[255,245,118,54]Если вы ищете место, где можно перекусить и отдохнуть; место, где можно выпить и поговорить; место, где вам всегда подскажут, как подзаработать - подходите в бар Сталкер. Мы всегда рады новым посетителям!",
    "\\n%c[255,245,118,54]Бармен \\n%c[255,245,118,54]Если вы ищете место, где можно перекусить и отдохнуть; место, где можно выпить и поговорить; место, где вам всегда подскажут, как подзаработать - подходите в бар Сталкер. Мы всегда рады новым посетителям!",
    "\\n%c[255,245,118,54]Бармен \\n%c[255,245,118,54]Если вы ищете место, где можно перекусить и отдохнуть; место, где можно выпить и поговорить; место, где вам всегда подскажут, как подзаработать - подходите в бар Сталкер. Мы всегда рады новым посетителям!"

}


local fnames = {
"Неизвестный",
}

local snames = {
"Сталкер",
}

local trade_templates = {
"Продам ",
"Куплю "
}

local what_trade = {
"Пулемёт РПК-74М и патроны к нему, я буду ",
"Пулемёт ПКМ и патроны к нему, я буду ",
"Калаш и патроны к нему, я буду ",
"Форт и патроны к нему, я буду ",
"Гаусс и патроны к нему, я буду ",
"АКМ и патроны к нему, я буду ",
"ГШ-18 и патроны к нему, буду ",
"Винторез и патроны к нему, я буду ",
"ПМ и патроны к нему, я буду ",
"ПБ и патроны к нему, я буду ",
"MP5 и патроны к нему, я буду ",
"БМ-16 и патроны к нему, я буду ",
"СВД и патроны к нему, я буду ",
"ТОЗ-34 и патроны к нему, я буду ",
"FN-2000 и патроны к нему, я буду ",
"СВУ и патроны к нему, я буду ",
"РГ-6 и патроны к нему, я буду ",
"АКС-74У и патроны к нему, я буду ",
"Desert Eagle и патроны к нему, я буду ",
}

local where_trade = {
"на Кордоне ",
"в Баре ",
"в Деревне на Холмах ",
"на Холмах ",
"на Кордоне ",
"на Кордоне, рядом с \"гравианомалиями\" ",
"на Кордоне, около моста ",
"на Кордоне, около ржавого тепловоза ",
"около Кордона ",
"поблизости от Кордона ",
"перед Кордоном ",
"недалеко от Кордона ",
"рядом с Кордоном ",
"возле Кордона ",
"на Свалке ",
"на Свалке, около ангара ",
"около Свалки ",
"поблизости от Свалки ",
"перед Свалкой ",
"недалеко от Свалки ",
"рядом со Свалкой ",
"возле Свалки ",
"на МедПриборе ",
"на МедПриборе, возле НИИ ",
"около МедПрибора ",
"поблизости от МедПрибора ",
"перед МедПрибором ",
"недалеко от МедПрибора ",
"рядом с МедПрибором ",
"возле МедПрибора ",
"на Янтаре ",
"на Янтаре, на болоте ",
"на Янтаре, на фабрике ",
"около Янтаря ",
"поблизости от Янтаря ",
"перед Янтарём ",
"недалеко от Янтаря ",
"рядом с Янтарём ",
"возле Янтаря ",
"в Тёмной долине ",
"около Тёмной долины ",
"поблизости от Тёмной долины ",
"перед Тёмной долиной ",
"недалеко от Тёмной долины ",
"рядом с Тёмной долиной ",
"возле Тёмной долины ",
"на Холмах ",
"около Холмов ",
"поблизости от Холмов ",
"перед Холмами ",
"недалеко от Холмов ",
"рядом с Холмами ",
"возле Холмов ",
"около заброшенной деревни ",
"поблизости от заброшенной деревни ",
"перед заброшенной деревней ",
"недалеко от заброшенной деревни ",
"рядом с заброшенной деревней ",
"возле заброшенной деревни ",
"около водонапорной башни, что в заброшенной деревне, ",
"перед водонапорной башней, в деревне ",
"недалеко от водонапорной башни, в заброшенной деревне ",
"рядом со старой водонапорной башней ",
"возле водонапорной башни, в деревне ",
"поблизости от Бара ",
"перед Баром ",
"недалеко от Бара ",
"около Барьера ",
"поблизости от Барьера ",
"перед Барьером ",
"недалеко от Барьера ",
"рядом с Барьером ",
"возле Барьера ",
"на заводе \"Росток\" ",
"около завода \"Росток\" ",
"поблизости от завода \"Росток\" ",
"перед заводом \"Росток\" ",
"недалеко от завода \"Росток\" ",
"рядом с заводом \"Росток\" ",
"возле завода \"Росток\" ",
"около базы \"Долга\" ",
"поблизости от блокпоста \"Долга\" ",
"перед блокпостом \"Долга\" ",
"недалеко от блокпоста \"Долга\" ",
"рядом с блокпостом \"Долга\" ",
"возле блокпоста \"Долга\" ",
"около входа на базу \"Свободы\" ",
"поблизости от базы \"Свободы\" ",
"перед базой \"Свободы\" ",
"недалеко от базы \"Свободы\" ",
"рядом со входом на базу \"Свободы\" ",
"возле базы \"Свободы\" ",
"на Кордоне ",
"около Кордона ",
"поблизости от Свалки ",
"перед Свалкой ",
"недалеко от Свалки ",
"рядом со Свалкой ",
"возле Кордона ",
"на заводе ",
"около завода ",
"поблизости от завода ",
"перед заводом ",
"недалеко от завода ",
"рядом с заводом ",
"возле завода ",
"около лагеря учёных ",
"возле лагеря учёных ",
"недалеко от лагеря учёных ",
"рядом с лагерем учёных ",
"около входа в здание фабрики \"Янтарь\" ",
"поблизости от ворот фабрики \"Янтарь\" "
}

local news_when={
"Сегодня ",
"Час назад ",
"Недавно ",
"Пару минут назад ",
"Только что ",
"Полчаса назад "
}

local news_text={
"появилась стая собак. ",
"появилась стая слепых псов. ",
"появилась стая бешеных собак. ",
"появилась стая псевдособак. ",
"появилась стая бешеных псевдособак.",
"появилась огромная стая собак. ",
"появилась огромная стая слепых псов. ",
"появилась огромная стая бешеных собак. ",
"появился контроллёр, сука. Кто рядом, остерегайтесь! ",
"появился контроллёр. ",
"видел много плотей. ",
"видел плоть. ",
"появилась стая кабанов. ",
"появилась стая бешеных кабанов. ",
"видел пару кровососов. ",
"видел кровососа. ",
"пролетал вертолёт вояк. Наверно, новый рейд затеяли!",
"пролетал вертолёт военных. Обстреляли из пулемёта кого-то и свалили. Будьте настороже. ",
"видел вертолёт военных. Летел на север. ",
"слышал переговоры военных, они затевают крупный рейд в ряде районов. Будьте настороже. ",
"слышал переговоры военных, они затевают очередной рейд на МедПриборе. Как всегда, он провалится, но вы туда всё равно не суйтесь! ",
"вояки начали зачистку. ",
"военные, суки, начали зачищать местность. Не суйтесь туда. ",
"видел крыс. ",
"видел стаю крыс, не суйтесь туда.",
"видел огромную крысу. ",
"чуть зомби не задушил, еле отбился. ",
"встретил зомби. Еле ушёл. ",
"видел пару зомби. ",
"кажется, видел зомби. Возможно, поблизости контроллёр. ",
"смутно видел какую-то призрачную тварь. На кровососа не похожа. Дряни-то развелось... ",
"была перестрелка с бандитами. ",
"по мне стрелял снайпер. Осторожней там. ",
"была волна мутантов, еле отбились. Двоих наших убили. ",
"налетели мутанты, кое-как всех перебили. ",
"видел развороченный труп. Подойти поближе поостерёгся, возможно, там аномалия. ",
"видел иссохшийся, высосанный труп. Возможно, неподалёку логово кровососов. ",
"слышал жуткий крик. Чёрт, лучше туда не ходить... ",
"видел, как окровавленного сталкера что-то тащило по земле. Кровосос?! ",
"видел стаю собак, тащили в кусты сталкера. Осторожнее там. ",
"была перестрелка с бандитами, всех положили. ",
"напоролись на военный патруль, пришлось всех положить. Соваться сюда не советую, наверняка рейд теперь будет. ",
"попали на военный патруль. Непонятливые оказались, пришлось их перестрелять. Не советую там появляться, скорее всего, будет рейд. ",
"на моих глазах сталкера порвал излом. Чёрт, сколько же дряни здесь... Валю к чертям, короче, либо я труп! ",
"появилось много новых аномалий. Остерегайтесь! ",
"появилась стая собак.",
"появилась стая слепых псов.",
"появилась стая бешеных собак.",
"появилась стая псевдособак.",
"появилась стая бешеных псевдособак.",
"появилась огромная стая собак.",
"появилась огромная стая слепых псов.",
"появилась огромная стая бешеных собак.",
"появился контроллёр, сука. Кто рядом, остерегайтесь!",
"появился контроллёр.",
"видел много плотей.",
"видел плоть.",
"появилась стая кабанов.",
"появилась стая бешеных кабанов.",
"видел пару кровососов.",
"видел кровососа",
"пролетал вертолёт вояк. Наверно, новый рейд затеяли...",
"пролетал вертолёт военных. Обстреляли из пулемёта кого-то и свалили. Будьте настороже.",
"видел вертолёт военных. Летел на север.",
"слышал переговоры военных, они затевают крупный рейд в ряде районов. Будьте настороже.",
"слышал переговоры военных, они затевают очередной рейд на МедПриборе. Как всегда, он провалится, но вы туда всё равно не суйтесь",
"вояки начали зачистку.",
"вояки, педрилы, начали зачищать местность. Не суйтесь туда!",
"видел зомби.",
"видел стаю зомби, не суйтесь туда.",
"видел огромную крысу.",
"чуть зомби не задушил, еле отбился.",
"встретил зомби. Еле ушёл.",
"видел пару зомби.",
"кажется, видел зомби. Возможно, поблизости контроллёр.",
"смутно видел какую-то призрачную тварь. На кровососа не похожа. Дряни развелось...",
"была перестрелка с бандитами.",
"по мне стрелял снайпер. Осторожней там.",
"была волна мутантов, еле отбились. Двоих наших убили.",
"налетели мутанты, кое-как всех перебили.",
"видел развороченный труп. Подойти поближе поостерёгся, возможно, там аномалия.",
"видел иссохшийся, высосанный труп. Возможно, неподалёку логово кровососов.",
"слышал жуткий крик. Чёрт, лучше туда не ходить...",
"видел, как окровавленного сталкера что-то тащило по земле. Кровосос?!",
"видел стаю собак, тащили в кусты сталкера. Осторожнее там.",
"была перестрелка с бандитами, всех положили.",
"напоролись на военный патруль, пришлось всех положить. Соваться сюда не советую, наверняка рейд теперь будет.",
"попали на военный патруль. Непонятливые оказались, пришлось их перестрелять. Не советую там появляться, скорее всего, будет рейд.",
"на моих глазах сталкера порвал зомби. Чёрт, сколько же дряни здесь. А теперь, мля, он меня преследует, нужно завалить эту тварь...",
"появилось много новых аномалий. Остерегайтесь!"
}


function game_minutes()
	local gtime = level.get_time_days()*60*24+level.get_time_hours()*60+level.get_time_minutes()  --время в игровых минутах	
return gtime
end

monsters = { "псевдогигант", "зомби", "кровосос", "полтергейст", "бюрер", "химера", "зомби", "контроллёр", "псевдособака", "собака", "плоть", "карлик", "кабан", "крыса"}


function show_news_trade()
if math.random() < post_message_prob2 then
		trade_maseges = trade_templates[math.random(table.getn(trade_templates))]
	end
if (trade_maseges ~= "") then
		local fname = fnames[math.random(table.getn(fnames))]
		local sname = snames[math.random(table.getn(snames))]
		local from = fname.." "..sname
		local what_trade = what_trade[math.random(table.getn(what_trade))]
            local where_trade = where_trade[math.random(table.getn(where_trade))]
            local news_text = "%c[255,245,118,54]".. from ..":\\n%c[255,245,118,54]".. trade_maseges .. what_trade .. where_trade
		db.actor:give_game_news(news_text, "ui\\ui_icons_task", Frect():set(450,50,50,50), 0, 20000)
	end
end

-- Просто
function show_news_another()
if math.random() < post_message_prob then
		m_post_message = noname_teamletes[math.random(table.getn(noname_teamletes))]
	end
          
if (m_post_message ~= "") then
		
		local news_text = m_post_message
		db.actor:give_game_news(news_text, "ui\\ui_icons_task", Frect():set(400,150,50,50), 0, 20000)
end
end                

-- Долг
function show_news_dolg()
if math.random() < post_message_dolg then
		m_post_dolg = dolg_news[math.random(table.getn(dolg_news))]
	end

if (m_post_dolg ~= "") then
		local news_text = m_post_dolg
		db.actor:give_game_news(news_text, "ui\\ui_icons_task", Frect():set(150,0,50,50), 0, 20000)
	end
end


-- Свобода
function show_news_freedom()
if math.random() < post_message_freedom then
		m_post_freedom = freedom_news[math.random(table.getn(freedom_news))]
	end
if (m_post_freedom ~= "") then
		local news_text = m_post_freedom
		db.actor:give_game_news(news_text, "ui\\ui_icons_task", Frect():set(0,150,50,50), 0, 20000)
	end
end

-- Полностью рандомные
function show_news_random()
if math.random() < post_message_random then
		news_random = news_when[math.random(table.getn(news_when))]
	end

if (news_random ~= "") then
		local fname = fnames[math.random(table.getn(fnames))]
		local sname = snames[math.random(table.getn(snames))]
		local from = fname.." "..sname
		local where = where_trade[math.random(table.getn(where_trade))]
            local text = news_text[math.random(table.getn(news_text))]
            local news_text = "%c[255,245,118,54]".. from ..":\\n%c[255,245,118,54]".. news_random .. where .. text
		db.actor:give_game_news(news_text, "ui\\ui_icons_task", Frect():set(400,150,50,50), 0, 20000)
	end
end



local blu_when = {
"через минуты две",
"скоро",
"через пару минут"
}
local blu_message = {
"Ищите укрытие понадёжней, Выброс - ",
"Профессор говорит, у него аппаратура даёт приблизительную оценку, что Выброс - ",
"Когда был у Профессора, он упомянул о Выбросе. Будет ",
"Выброс будет ",
"Внимание! Яйцеголовые сообщают - Выброс "
}


function vubros_msg()
if math.random() < post_message_prob then
		bluw_msg = blu_message[math.random(table.getn(blu_message))]
	end
          
		if (bluw_msg ~= "") then
		local fname = fnames[math.random(table.getn(fnames))]
		local sname = snames[math.random(table.getn(snames))]
		local from = fname.." "..sname
		local bluw_msg_when = blu_when[math.random(table.getn(blu_when))]
            local news_text = "%c[255,255,0,0]"..":\\n%c[255,245,118,54]"..bluw_msg .. bluw_msg_when 
	     db.actor:give_game_news(news_text, "ui\\ui_icons_task", Frect():set(350,150,50,50), 0, 20000)
      end
end
		

function isIsolatedLevel(level_name)
	local ln = level_name
	if (ln == "l03u_agr_underground" or ln ==  "l02_garbage" or ln == "l04u_labx18" or ln == "l08u_brainlab" or ln == "l10u_bunker") then
	end
end

function filter()
local level_name = level.name()

if level_name ==  "lvl1_escape" then
nd_news_main_data.on_connect()
end

if level_name ==  "lvl2_garbage" then
nd_news_main_data.on_connect()
end

if level_name ==  "lvl3_agroprom" then
nd_news_main_data.on_connect()
end

if level_name == "l03u_agr_underground"  then
nd_news_main_data.on_disconnect()
end

if level_name == "lvl4_darkvalley" then 
nd_news_main_data.on_connect()
end

if level_name == "lvl4u_darklab" then 
nd_news_main_data.on_disconnect()
end

if level_name == "lvl5_bar" then 
nd_news_main_data.on_connect()
end
if level_name == "l06_rostok" then 
nd_news_main_data.on_connect()
end
if level_name == "l07_military" then 
nd_news_main_data.on_connect()
end
if level_name == "l08_yantar" then 
nd_news_main_data.on_connect()
end

if level_name == "l08u_brainlab" then
nd_news_main_data.on_disconnect()
end

if level_name == "l10_radar" then 
nd_news_main_data.on_disconnect()
end

if level_name == "l12_stancia" then 
nd_news_main_data.on_connect()
end
if level_name == "l12_stancia_2" then 
nd_news_main_data.on_connect()
end
if level_name == "l11_pripyat" then 
nd_news_main_data.on_connect()
end

if level_name == "l12u_control_monolith" then 
nd_news_main_data.on_disconnect()
end

if level_name == "l12u_sarcofag" then 
nd_news_main_data.on_disconnect()
end

if leve_name  == "l10u_bunker" then
nd_news_main_data.on_disconnect()
end
end


-------------------- Advanced Reconstruction Stalker Mod v0.5 --------------------
--[[

If you're going to use the whole of this script or its parts in your own creative 
developments for the S.T.A.L.K.E.R. game, please don't become such a goddamn 
motherfucker like the notorious author of the ABC Mod - Carbrobro. Leave the 
copyrights, note the real author(s) and don't claim others' ideas and their 
realization to be your own ones. It's just simple Modmakers' Ethics. Thank you!

Если вы собираетесь использовать данный скрипт целиком или частично в своих 
разработках по игре S.T.A.L.K.E.R., пожалуйста не опускайтесь до уровня печально 
известного автора ABC мода - Carbrobro. Не удаляйте копирайты, указывайте настоящего 
автора(ов) и не выдавайте чужие идеи и их реализацию за свои. Ведь это элементарная 
этика модостроителей! Спасибо за понимание.

]]--